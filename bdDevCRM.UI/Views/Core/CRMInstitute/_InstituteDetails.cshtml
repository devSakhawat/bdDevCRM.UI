@* 
<script src="~/assets/libs/pdfviewer/pdf.2.10.377.min.js"></script> *@

<script src="~/assets/scripts/core/crminstitute/institutedetails.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>


<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-sm-12" id="InstituteForm">
  <fieldset class="reset">
    <legend class="reset">Institute Form</legend>

    <div class="row mb-2">
      <!-- Institute Id -->
      <input id="instituteId" type="hidden" value="0" />

      <!-- =====  Name, Code, Type ===== -->
      <!-- Institute Name -->
      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-2">
        <label for="InstituteName">Institute Name <span class="redstart">*</span></label>
        <input type="text" class="form-control" id="instituteName" name="InstituteName" placeholder="Institute name" required validationMessage="Name is required" />
      </div>

      <!-- Institute Code -->
      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-2">
        <label for="InstituteCode">Institute Code</label>
        <input type="text" class="form-control" id="instituteCode" name="InstituteCode" placeholder="Institute code" />
      </div>

      <!-- Institute Type -->
      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-2">
        <label for="InstituteType" class="lbl widthSize100_per">Institute Type</label>
        <div class="d-flex align-items-start icon-wrapper">
          <input id="cmbInstituteType" name="InstituteType" class="flex-grow-1 border-right-strait" />
          <button type="button" class="btn btn-outline-dark add-new-ddl-item-btn" onclick="InstituteDetailsHelper.openInstituteTypePopup();">
            <span class="k-icon k-i-plus"></span>
          </button>
        </div>
      </div>

      <!-- ===== Country, Currency, Campus ===== -->
      <!-- Country -->
      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-2">
        <label for="InstituteCountry" class="lbl widthSize100_per">Country <span class="redstart">*</span></label>
        <div class="d-flex align-items-start icon-wrapper">
          <input id="cmbCountry_Institute" name="InstituteCountry" required validationMessage="Please Select Country" class="flex-grow-1 border-right-strait" />
          <button type="button" class="btn btn-outline-dark add-new-ddl-item-btn" onclick="InstituteDetailsHelper.openCountryPopup();">
            <span class="k-icon k-i-plus"></span>
          </button>
        </div>
      </div>

      <!-- Currency -->
      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-2">
        <label for="InstituteCurrency" class="lbl widthSize100_per">Currency</label>
        <div class="d-flex align-items-start icon-wrapper">
          <input id="cmbCurrency_Institute" name="InstituteCurrency" class="flex-grow-1 border-right-strait" />
          <button type="button" class="btn btn-outline-dark add-new-ddl-item-btn" onclick="InstituteDetailsHelper.openCurrencyPopup();">
            <span class="k-icon k-i-plus"></span>
          </button>
        </div>
      </div>

      <!-- Campus -->
      <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 mb-2">
        <label for="Campus">Campus</label>
        <input type="text" class="form-control" id="campus" name="Campus" />
      </div>

      <!-- ===== Website, Monthly Cost, Application Fee ===== -->
      <!-- Website -->
      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-2">
        <label for="Website">Website</label>
        <input type="url" class="form-control" id="website" name="Website" placeholder="https://example.edu" />
      </div>

      <!-- Monthly Living Cost -->
      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-2">
        <label for="MonthlyLivingCost">Monthly Living&nbsp;Cost</label>
        <input type="number" class="form-control" id="monthlyLivingCost" name="MonthlyLivingCost" />
      </div>

      <!-- Application Fee -->
      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-2">
        <label for="ApplicationFee">Application Fee</label>
        <input type="number" class="form-control" id="applicationFee" name="ApplicationFee" />
      </div>

      <!-- ===== Email, Phone, Mobile ===== -->
      <!-- Email -->
      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-2">
        <label for="InstituteEmail">Email</label>
        <input type="email" class="form-control" id="instituteEmail" name="InstituteEmail" />
      </div>

      <!-- Phone -->
      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-2">
        <label for="InstitutePhoneNo">Phone No</label>
        <input type="text" class="form-control" id="institutePhoneNo" name="InstitutePhoneNo" />
      </div>

      <!-- Mobile -->
      <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 mb-2">
        <label for="InstituteMobileNo">Mobile No</label>
        <input type="text" class="form-control" id="instituteMobileNo" name="InstituteMobileNo" />
      </div>


      <!-- ===== Address (full width) ===== -->
      <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 mb-2">
        <label for="InstituteAddress">Address</label>
        <textarea id="instituteAddress" name="InstituteAddress" class="form-control" rows="2"></textarea>
      </div>

      <!-- ===== Status Checkbox ===== -->
      <div class="col-xl-2 col-lg-2 col-md-2 col-sm-12 mb-2 custom-checkbox">
        <label class="form-check-label" for="chkStatusInstitute">Status</label>
        <input type="checkbox" id="chkStatusInstitute" name="StatusInstitute" class="form-check-input" />
      </div>

      <!-- ===== Language Mandatory & Requirement ===== -->
      <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 mb-2 custom-checkbox">
        <label class="form-check-label" for="chkIsLanguageMandatory">Is Language Mandatory? (Eg: IELTS or TOEFL)  </label>
        <input type="checkbox" id="chkIsLanguageMandatory" name="IsLanguageMandatory" class="form-check-input" />
      </div>
      <div class="col-sm-12 mb-2">
        <label for="LanguagesRequirement">Languages Requirement</label>
        <textarea id="languagesRequirement" name="LanguagesRequirement" class="form-control" rows="2"></textarea>
      </div>


      <!-- ===== Descriptive TextAreas ===== -->
      <div class="col-12 mb-2">
        <label for="InstitutionalBenefits">Institutional Benefits</label>
        <textarea id="institutionalBenefits" name="InstitutionalBenefits" class="form-control" rows="2"></textarea>
      </div>
      <div class="col-12 mb-2">
        <label for="PartTimeWorkDetails">Part Time Work Details (Mention hours permitted with estimated wages)</label>
        <textarea id="partTimeWorkDetails" name="PartTimeWorkDetails" class="form-control" rows="2"></textarea>
      </div>
      <div class="col-12 mb-2">
        <label for="ScholarshipsPolicy">Scholarships Policy</label>
        <textarea id="scholarshipsPolicy" name="ScholarshipsPolicy" class="form-control" rows="2"></textarea>
      </div>
      <div class="col-12 mb-2">
        <label for="InstitutionStatusNotes">Institution Status Notes important for counsellor/Processing office to understand next step</label>
        <textarea id="institutionStatusNotes" name="InstitutionStatusNotes" class="form-control" rows="2"></textarea>
      </div>

      <!-- ===== File Uploads ===== -->
      <!-- Logo (image) -->
      <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 mb-2">
        <label for="institutionLogoFile">Institution Logo</label>
        <input type="file" class="form-control" id="institutionLogoFile" name="InstitutionLogoFile" accept="image/*" />
        <!-- 200X200 perview thumb -->
        <img id="logoThumb" class="d-none border mt-1" style="height:200px;width:200px;object-fit:contain;cursor:pointer" onclick="openPreview('logo')" />
      </div>

      <!-- Prospectus (PDF) -->
      <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 mb-2">
        <label for="prospectusFile">Institution Prospectus (PDF)</label>
        <input type="file" class="form-control" id="prospectusFile" name="InstitutionProspectusFile" accept="application/pdf" />
        <div class="mt-1">
          <span id="pdfName" class="text-muted"></span>
          <button type="button" class="btn btn-outline-primary btn-sm d-none" id="pdfPreviewBtn" onclick="InstituteDetailsHelper.openPreview('pdf')"> Preview </button>
          <!-- 200X200 perview thumb -->
          <img id="pdfThumbnail" class="d-none mt-2 border" style="width:200px;height:200px;object-fit:cover;cursor:pointer" onclick="InstituteDetailsHelper.openPreview('pdf')" />

        </div>
      </div>

      <!-- to show pdf view with kendo Window -->
      <div id="pdfViewerWindow" style="display:none;">
        <div id="pdfViewer" style="height: 80vh;"></div>
      </div>

    </div>

    <!-- Action Buttons -->
    <div class="btnDiv mt-2">
      <ul>
        <li class="d-flex justify-content-end">
          <button type="button" class="btn btn-primary me-2" id="btnInstituteSaveOrUpdate" onclick="InstituteDetailsManager.saveOrUpdateItem();"> + Add Institute </button>
          <button type="button" class="btn btn-secondary me-2" onclick="InstituteDetailsHelper.clearForm();"> Clear </button>
        </li>
      </ul>
    </div>

    <!-- Combo Box Items UI by PopUp -->
    @* Country PopUP *@
    <div style="display:none" id="InstituteTypePopUp_Institute" class="">
      <div class="row">
        <!-- InstituteType Form -->
        <partial name="crminstitutetype/_InstituteTypeDetails" />
        <!-- InstituteType Summary -->
        <partial name="crminstitutetype/_InstituteTypeSummary" />
      </div>
    </div>

    @* Country PopUP *@
    <div style="display:none" id="CountryPopUp_Institute" class="">
      <div class="row">
        <!-- Country Form -->
        <partial name="~/Views/Core/Country/_CountryDetail.cshtml" />

        <!-- Country Summary -->
        <partial name="~/Views/Core/Country/_CountrySummery.cshtml" />
      </div>
    </div>

    @* Currency PopUp *@
    <div style="display:none" id="CurrencyPopUp_Institute" class="">
      <div class="row">
        <!-- Currency Form -->
        <partial name="~/Views/Core/Currency/_CurrencyDetail.cshtml" />

        <!-- Currency Summary -->
        <partial name="~/Views/Core/Currency/_CurrencySummery.cshtml" />
      </div>
    </div>

  </fieldset>
</div>








